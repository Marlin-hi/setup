<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dein Second Brain einrichten</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg: #080f14;
      --accent: #2dd4bf;
      --accent-2: #14b8a6;
      --accent-hover: #5eead4;
      --accent-glow: rgba(45, 212, 191, 0.15);
      --accent-bg: rgba(45, 212, 191, 0.08);
      --accent-border: rgba(45, 212, 191, 0.12);
      --orb-1: rgba(45, 212, 191, 0.07);
      --orb-2: rgba(20, 184, 166, 0.05);
      --orb-3: rgba(94, 234, 212, 0.04);
      --bg-card: rgba(255, 255, 255, 0.04);
      --bg-card-hover: rgba(255, 255, 255, 0.07);
      --border: rgba(255, 255, 255, 0.08);
      --border-hover: rgba(255, 255, 255, 0.15);
      --text: #e8e4ef;
      --text-muted: #9690a6;
      --text-dim: #6b6580;
      --success: #6ee7b7;
      --radius: 16px;
      --radius-sm: 10px;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem 1.25rem;
      line-height: 1.65;
      overflow-x: hidden;
    }

    /* ── Animated background orbs ── */
    .bg-orbs {
      position: fixed;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: 0;
    }

    .orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(80px);
    }

    .orb-1 {
      width: 600px; height: 600px;
      background: var(--orb-1);
      top: -15%; left: -10%;
      animation: float1 20s ease-in-out infinite;
    }

    .orb-2 {
      width: 500px; height: 500px;
      background: var(--orb-2);
      bottom: -10%; right: -10%;
      animation: float2 25s ease-in-out infinite;
    }

    .orb-3 {
      width: 400px; height: 400px;
      background: var(--orb-3);
      top: 40%; left: 50%;
      transform: translateX(-50%);
      animation: float3 18s ease-in-out infinite;
    }

    @keyframes float1 {
      0%, 100% { transform: translate(0, 0) scale(1); }
      25% { transform: translate(60px, 40px) scale(1.05); }
      50% { transform: translate(30px, 80px) scale(0.95); }
      75% { transform: translate(-30px, 40px) scale(1.02); }
    }

    @keyframes float2 {
      0%, 100% { transform: translate(0, 0) scale(1); }
      25% { transform: translate(-50px, -30px) scale(1.03); }
      50% { transform: translate(-20px, -70px) scale(0.97); }
      75% { transform: translate(40px, -40px) scale(1.04); }
    }

    @keyframes float3 {
      0%, 100% { transform: translateX(-50%) translate(0, 0) scale(1); }
      33% { transform: translateX(-50%) translate(40px, -50px) scale(1.06); }
      66% { transform: translateX(-50%) translate(-40px, 30px) scale(0.94); }
    }

    .container {
      max-width: 520px;
      width: 100%;
      position: relative;
      z-index: 1;
    }

    /* ── Progress bar ── */
    .progress-wrap { margin-bottom: 3rem; }

    .progress-bar {
      height: 2px;
      background: var(--border);
      border-radius: 2px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent), var(--accent-hover));
      border-radius: 2px;
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 0 12px var(--accent-glow);
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      margin-top: 0.75rem;
      font-size: 0.8rem;
      color: var(--text-dim);
      font-weight: 500;
      letter-spacing: 0.02em;
    }

    /* ── Steps ── */
    .step { display: none; }

    .step.active {
      display: block;
      animation: stepIn 0.45s cubic-bezier(0.16, 1, 0.3, 1);
    }

    @keyframes stepIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ── Holographic text ── */
    .holo {
      background: linear-gradient(
        90deg,
        #5eead4 0%,
        #a78bfa 25%,
        #f0abfc 50%,
        #5eead4 75%,
        #a78bfa 100%
      );
      background-size: 200% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: holoShift 6s linear infinite;
    }

    @keyframes holoShift {
      0% { background-position: 0% 50%; }
      100% { background-position: 200% 50%; }
    }

    /* ── Typewriter ── */
    .typewriter {
      display: inline-block;
      overflow: hidden;
      border-right: 2px solid var(--accent);
      white-space: nowrap;
      width: 0;
      animation: blinkCaret 0.6s step-end infinite;
    }

    .typewriter.done {
      border-right-color: transparent;
      width: auto;
      animation: none;
    }

    @keyframes blinkCaret {
      50% { border-color: transparent; }
    }

    /* ── Typography ── */
    h1 {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 1.25rem;
      letter-spacing: -0.03em;
      line-height: 1.2;
    }

    h1:not(.holo) {
      background: linear-gradient(135deg, #fff 0%, var(--text) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      font-size: 1.1rem;
      color: var(--text-muted);
      margin-bottom: 1.5rem;
      line-height: 1.7;
    }

    h2 {
      font-size: 0.85rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--accent);
      margin-bottom: 1rem;
    }

    p { margin-bottom: 1rem; color: var(--text-muted); }

    strong, .hl { color: var(--text); font-weight: 500; }

    ol, ul {
      margin-bottom: 1.25rem;
      padding-left: 0;
      list-style: none;
      color: var(--text-muted);
    }

    li {
      margin-bottom: 0.75rem;
      padding-left: 1.75rem;
      position: relative;
    }

    li::before {
      content: attr(data-n);
      position: absolute;
      left: 0;
      color: var(--accent);
      font-weight: 600;
      font-size: 0.85rem;
    }

    a {
      color: var(--accent);
      text-decoration: none;
      border-bottom: 1px solid var(--accent-border);
      transition: border-color 0.2s;
    }

    a:hover { border-color: var(--accent); }

    code {
      background: var(--accent-bg);
      color: var(--accent-hover);
      padding: 3px 8px;
      border-radius: 6px;
      font-size: 0.85em;
      font-family: 'SF Mono', 'Cascadia Code', 'Fira Code', monospace;
      border: 1px solid rgba(255, 255, 255, 0.05);
    }

    /* ── Cards ── */
    .card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1.5rem;
      margin-bottom: 0.75rem;
      backdrop-filter: blur(12px);
      transition: all 0.25s;
    }

    .card:hover {
      background: var(--bg-card-hover);
      border-color: var(--border-hover);
    }

    .card-icon { font-size: 1.5rem; margin-bottom: 0.75rem; display: block; }
    .card-title { font-size: 1rem; font-weight: 600; color: var(--text); margin-bottom: 0.4rem; }
    .card-desc { font-size: 0.9rem; color: var(--text-dim); line-height: 1.6; margin: 0; }

    /* ── Info box ── */
    .info {
      background: var(--accent-bg);
      border: 1px solid var(--accent-border);
      border-radius: var(--radius-sm);
      padding: 1rem 1.25rem;
      margin: 1.25rem 0;
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .info p { margin: 0; }

    /* ── Buttons ── */
    .actions { margin-top: 2.5rem; display: flex; gap: 0.75rem; }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.85rem 1.75rem;
      border-radius: var(--radius-sm);
      font-size: 0.95rem;
      font-weight: 500;
      font-family: inherit;
      cursor: pointer;
      border: none;
      transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
      text-decoration: none;
      letter-spacing: -0.01em;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent-2) 100%);
      color: #0a1510;
      font-weight: 600;
      box-shadow: 0 2px 16px var(--accent-glow), 0 1px 3px rgba(0,0,0,0.2);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 24px var(--accent-glow), 0 2px 6px rgba(0,0,0,0.2);
    }

    .btn-primary:active { transform: translateY(0); }

    .btn-secondary {
      background: var(--bg-card);
      color: var(--text-muted);
      border: 1px solid var(--border);
      backdrop-filter: blur(8px);
    }

    .btn-secondary:hover {
      background: var(--bg-card-hover);
      border-color: var(--border-hover);
      color: var(--text);
    }

    .btn-download {
      width: 100%;
      padding: 1.1rem 2rem;
      font-size: 1rem;
      font-weight: 600;
      background: linear-gradient(135deg, var(--accent) 0%, var(--accent-2) 100%);
      color: #0a1510;
      box-shadow: 0 4px 24px var(--accent-glow), 0 1px 3px rgba(0,0,0,0.2);
      border-radius: var(--radius);
    }

    .btn-download:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 32px rgba(45, 212, 191, 0.3), 0 2px 6px rgba(0,0,0,0.2);
    }

    /* ── Feature list ── */
    .feature-list { display: flex; flex-direction: column; gap: 1rem; margin: 1.5rem 0; }

    .feature { display: flex; gap: 1rem; align-items: flex-start; }

    .feature-dot {
      width: 8px; height: 8px;
      border-radius: 50%;
      background: var(--accent);
      margin-top: 8px;
      flex-shrink: 0;
      box-shadow: 0 0 8px var(--accent-glow);
    }

    .feature p { margin: 0; color: var(--text-muted); font-size: 0.95rem; }
    .feature strong { color: var(--text); }

    /* ── Hero badge ── */
    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--accent-bg);
      border: 1px solid var(--accent-border);
      border-radius: 100px;
      padding: 0.4rem 1rem;
      font-size: 0.8rem;
      font-weight: 500;
      color: var(--accent);
      margin-bottom: 1.5rem;
      letter-spacing: 0.02em;
    }

    .hero-badge .dot {
      width: 6px; height: 6px;
      border-radius: 50%;
      background: var(--accent);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.4; }
    }

    .time-note {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--text-dim);
      font-size: 0.85rem;
      margin-top: 1rem;
    }

    .time-note svg {
      width: 16px; height: 16px;
      stroke: var(--text-dim);
      fill: none;
      stroke-width: 2;
    }

    /* ── Success ── */
    .success-icon {
      width: 64px; height: 64px;
      border-radius: 50%;
      background: rgba(110, 231, 183, 0.1);
      border: 1px solid rgba(110, 231, 183, 0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
    }

    .success-icon svg {
      width: 28px; height: 28px;
      stroke: var(--success);
      fill: none;
      stroke-width: 2.5;
    }

    /* ── Typewriter paragraphs ── */
    .tw-line {
      opacity: 0;
      transform: translateY(6px);
      transition: opacity 0.4s, transform 0.4s;
    }

    .tw-line.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* ── Responsive ── */
    @media (max-width: 480px) {
      body { padding: 1.5rem 1rem; justify-content: flex-start; padding-top: 2rem; }
      h1 { font-size: 1.65rem; }
      .typewriter { font-size: 1.65rem; }
      .actions { flex-direction: column; }
      .btn { width: 100%; }
    }
  </style>
</head>
<body>

<div class="bg-orbs">
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="orb orb-3"></div>
</div>

<div class="container">

  <div class="progress-wrap">
    <div class="progress-bar"><div class="progress-fill" id="progress-fill" style="width: 0%"></div></div>
    <div class="progress-label">
      <span id="progress-step">Willkommen</span>
      <span id="progress-count"></span>
    </div>
  </div>

  <!-- Step 0: Welcome -->
  <div class="step active" data-step="0">
    <div class="hero-badge"><span class="dot"></span> Dauert ca. 15 Min</div>
    <h1 class="holo typewriter" id="welcome-title">Dein eigenes Second Brain</h1>
    <p class="subtitle tw-line">Stell dir vor, du hättest ein zweites Gedächtnis. Eins, das nichts vergisst, Zusammenhänge sieht und mit dir über die Zeit wächst.</p>
    <p class="tw-line">Und das ist erst der Anfang. Dein Second Brain kann alles Digitale bauen, was du dir vorstellst — schneller als die meisten Leute mit Informatik-Studium.</p>
    <p class="tw-line">Genau das richten wir jetzt zusammen ein. Du brauchst nur einen Laptop.</p>
    <div class="actions tw-line">
      <button class="btn btn-primary" onclick="next()">Zeig mir wie</button>
    </div>
  </div>

  <!-- Step 1: What is this? -->
  <div class="step" data-step="1">
    <h2>Kurz erklärt</h2>
    <h1 class="holo">Es sind nur zwei Dinge</h1>
    <div class="card tw-line">
      <span class="card-icon">&#128221;</span>
      <div class="card-title">Dein Notizbuch</div>
      <p class="card-desc">Ein Ordner auf deinem Computer. Da schreibst du rein, was dich bewegt — Gedanken, Ideen, Projekte. Öffnest du mit einer App namens Obsidian.</p>
    </div>
    <div class="card tw-line">
      <span class="card-icon">&#129302;</span>
      <div class="card-title">Dein KI-Begleiter</div>
      <p class="card-desc">Eine KI, die dein Notizbuch kennt. Du redest mit ihr, sie hilft dir Gedanken zu sortieren, erinnert dich an Früheres und baut Verbindungen auf.</p>
    </div>
    <p class="tw-line">Du gibst deinem Begleiter einen Namen. Das macht's persönlicher.</p>
    <div class="actions tw-line">
      <button class="btn btn-secondary" onclick="prev()">Zurück</button>
      <button class="btn btn-primary" onclick="next()">Klingt gut</button>
    </div>
  </div>

  <!-- Step 2: VS-Code -->
  <div class="step" data-step="2">
    <h2>Schritt 1</h2>
    <h1 class="holo">Erstmal brauchst du VS-Code</h1>
    <p class="tw-line">Das ist ein kostenloser Editor. Dein KI-Begleiter lebt da drin.</p>
    <ol class="tw-line">
      <li data-n="1.">Öffne <a href="https://code.visualstudio.com/" target="_blank">code.visualstudio.com</a></li>
      <li data-n="2.">Lad die Version für dein System runter</li>
      <li data-n="3.">Installieren, öffnen — fertig</li>
    </ol>
    <div class="info tw-line">
      <p>Hast du schon? Dann einfach weiter.</p>
    </div>
    <div class="actions tw-line">
      <button class="btn btn-secondary" onclick="prev()">Zurück</button>
      <button class="btn btn-primary" onclick="next()">Hab ich</button>
    </div>
  </div>

  <!-- Step 3: Claude Code -->
  <div class="step" data-step="3">
    <h2>Schritt 2</h2>
    <h1 class="holo">Jetzt kommt die KI dazu</h1>
    <p class="tw-line">Claude Code ist die Extension, die deinen Begleiter zum Leben erweckt.</p>
    <ol class="tw-line">
      <li data-n="1.">Öffne VS-Code</li>
      <li data-n="2.">Drück <code>Ctrl+Shift+X</code></li>
      <li data-n="3.">Such nach <span class="hl">"Claude Code"</span> von Anthropic</li>
      <li data-n="4.">Klick auf <span class="hl">Install</span></li>
    </ol>
    <div class="actions tw-line">
      <button class="btn btn-secondary" onclick="prev()">Zurück</button>
      <button class="btn btn-primary" onclick="next()">Installiert</button>
    </div>
  </div>

  <!-- Step 4: Claude Account -->
  <div class="step" data-step="4">
    <h2>Schritt 3</h2>
    <h1 class="holo">Noch ein Zugang zu Claude</h1>
    <p class="tw-line">Claude Code braucht eine Verbindung zu Claude. Wähl was für dich passt:</p>
    <div class="card tw-line">
      <div class="card-title">Claude Max Abo</div>
      <p class="card-desc">Hast du ein Claude-Abo (Max-Plan)? Dann klick beim Start einfach auf "Login with Claude.ai" und meld dich an.</p>
    </div>
    <div class="card tw-line">
      <div class="card-title">API-Key</div>
      <p class="card-desc">Auf <a href="https://console.anthropic.com/" target="_blank">console.anthropic.com</a> Account machen, Key generieren, beim Start eingeben. Kostet nach Verbrauch (~5–20 $/Monat).</p>
    </div>
    <div class="actions tw-line">
      <button class="btn btn-secondary" onclick="prev()">Zurück</button>
      <button class="btn btn-primary" onclick="next()">Steht</button>
    </div>
  </div>

  <!-- Step 5: Test -->
  <div class="step" data-step="5">
    <h2>Schritt 4</h2>
    <h1 class="holo">Schneller Check</h1>
    <p class="tw-line">Lass uns testen, ob alles läuft:</p>
    <ol class="tw-line">
      <li data-n="1.">In VS-Code: drück <code>Ctrl+L</code></li>
      <li data-n="2.">Schreib einfach <span class="hl">"Hallo"</span></li>
      <li data-n="3.">Claude antwortet? Dann passt alles</li>
    </ol>
    <div class="info tw-line">
      <p>Beim ersten Mal fragt er nach deinem Login — das ist normal.</p>
    </div>
    <div class="actions tw-line">
      <button class="btn btn-secondary" onclick="prev()">Zurück</button>
      <button class="btn btn-primary" onclick="next()">Läuft</button>
    </div>
  </div>

  <!-- Step 6: Download & Setup -->
  <div class="step" data-step="6">
    <h2>Letzter Schritt</h2>
    <h1 class="holo">Ab hier übernimmt die KI</h1>
    <p class="tw-line">Du musst nur noch drei Dinge tun. Danach richtet Claude Code alles für dich ein:</p>
    <ol class="tw-line">
      <li data-n="1.">Die Setup-Datei herunterladen</li>
      <li data-n="2.">In VS-Code öffnen (einfach reinziehen)</li>
      <li data-n="3.">In Claude Code tippen: <span class="hl">Setup my second brain</span></li>
    </ol>
    <p class="tw-line">Claude liest die Datei und baut alles auf. Er fragt dich zwischendurch ein paar Sachen — zum Beispiel wie dein Begleiter heißen soll.</p>
    <div class="actions tw-line" style="flex-direction: column; gap: 1rem;">
      <button class="btn btn-download" onclick="downloadSetup()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
        Setup-Datei herunterladen
      </button>
      <div style="display: flex; gap: 0.75rem;">
        <button class="btn btn-secondary" style="flex:1" onclick="prev()">Zurück</button>
        <button class="btn btn-primary" style="flex:1" onclick="next()">Hab ich gemacht</button>
      </div>
    </div>
  </div>

  <!-- Step 7: Done -->
  <div class="step" data-step="7">
    <div class="success-icon">
      <svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>
    </div>
    <h1 class="holo" id="done-title">Das war's</h1>
    <p class="subtitle tw-line">Dein Second Brain ist startklar. Ab jetzt funktioniert das so:</p>
    <div class="feature-list tw-line">
      <div class="feature">
        <div class="feature-dot"></div>
        <p><strong>In Obsidian</strong> schreibst du — Gedanken, Journal, Projekte, was auch immer</p>
      </div>
      <div class="feature">
        <div class="feature-dot"></div>
        <p><strong>In Claude Code</strong> redest du mit deinem Begleiter — er kennt alles, was du geschrieben hast</p>
      </div>
      <div class="feature">
        <div class="feature-dot"></div>
        <p>Über die Zeit lernt er dich kennen. Er erinnert, sortiert und verbindet</p>
      </div>
    </div>
    <div class="card tw-line" style="margin-top: 1.5rem;">
      <div class="card-title">Und jetzt?</div>
      <p class="card-desc">Öffne den Steckbrief in Obsidian und stell dich vor. Das ist der beste Einstieg.</p>
    </div>
    <div class="actions tw-line">
      <button class="btn btn-secondary" onclick="prev()">Zurück</button>
    </div>
  </div>

</div>

<script>
  var TOTAL_STEPS = 8;
  var current = 0;
  var stepLabels = ['Willkommen', '\u00dcberblick', 'VS-Code', 'Claude Code', 'Zugang', 'Test', 'Setup', 'Fertig'];

  var params = new URLSearchParams(window.location.search);
  var userName = params.get('name') || '';

  if (userName) {
    document.getElementById('welcome-title').textContent = 'Hey ' + userName;
    document.getElementById('done-title').textContent = 'Fertig, ' + userName + '!';
  }

  function updateProgress() {
    var pct = Math.round((current / (TOTAL_STEPS - 1)) * 100);
    document.getElementById('progress-fill').style.width = pct + '%';
    document.getElementById('progress-step').textContent = stepLabels[current];
    document.getElementById('progress-count').textContent = (current + 1) + ' / ' + TOTAL_STEPS;
  }

  function revealLines(stepEl) {
    var lines = stepEl.querySelectorAll('.tw-line');
    var tw = stepEl.querySelector('.typewriter');
    var twDelay = 150; // default if no typewriter

    if (tw) {
      tw.classList.remove('done');
      tw.style.transition = 'none';
      tw.style.width = '0';

      // Measure natural text width via hidden span
      var measure = document.createElement('span');
      measure.style.cssText = 'position:absolute;visibility:hidden;white-space:nowrap;font:' + getComputedStyle(tw).font;
      measure.textContent = tw.textContent;
      document.body.appendChild(measure);
      var targetWidth = measure.offsetWidth;
      measure.remove();

      var charCount = tw.textContent.length;
      var typeDuration = Math.max(600, charCount * 80);

      // Start typing after short delay
      setTimeout(function() {
        tw.style.transition = 'width ' + typeDuration + 'ms steps(' + charCount + ', end)';
        tw.style.width = targetWidth + 'px';
      }, 300);

      // Remove caret after typing + a few blinks
      setTimeout(function() { tw.classList.add('done'); }, 300 + typeDuration + 1200);

      // Rest of content appears after typing + pause
      twDelay = 300 + typeDuration + 700;
    }

    lines.forEach(function(line, i) {
      line.classList.remove('visible');
      setTimeout(function() { line.classList.add('visible'); }, twDelay + i * 200);
    });
  }

  function showStep(n) {
    document.querySelectorAll('.step').forEach(function(s) { s.classList.remove('active'); });
    var target = document.querySelector('.step[data-step="' + n + '"]');
    if (target) {
      target.classList.add('active');
      window.scrollTo({ top: 0, behavior: 'smooth' });
      revealLines(target);
    }
    updateProgress();
  }

  function next() { if (current < TOTAL_STEPS - 1) { current++; showStep(current); } }
  function prev() { if (current > 0) { current--; showStep(current); } }

  function downloadSetup() {
    var name = userName || '[Nutzername]';
    var content = generateSetup(name);
    var blob = new Blob([content], { type: 'text/markdown;charset=utf-8' });
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a'); a.href = url; a.download = 'SETUP.md'; a.click();
    URL.revokeObjectURL(url);
  }

  function generateSetup(name) {
    return [
      '# Deinen Wissensmanager einrichten',
      '',
      'Du richtest gerade einen pers\u00f6nlichen Wissensmanager ein. Das ist ein Obsidian-Vault mit KI-Begleitung \u2014 er hilft ' + name + ', seine Gedanken zu ordnen, Zusammenh\u00e4nge zu erkennen und \u00fcber die Zeit zu reflektieren.',
      '',
      '**Als Erstes:** Frag ' + name + ', wie sein Bot hei\u00dfen soll. Der Name ist frei w\u00e4hlbar \u2014 z.B. Mika, Niko, oder was auch immer ihm gef\u00e4llt. Nutze diesen Namen dann \u00fcberall wo unten `[BotName]` steht.',
      '',
      'Arbeite die Schritte der Reihe nach ab. Manche Schritte kannst du automatisch erledigen, bei anderen muss ' + name + ' selbst etwas tun \u2014 das ist jeweils markiert.',
      '',
      '---',
      '',
      '## Schritt 1: Git pr\u00fcfen',
      '',
      'Pr\u00fcfe ob Git installiert ist (`git --version`). Falls nicht: installiere es oder gib ' + name + ' die Anleitung (https://git-scm.com/downloads).',
      '',
      '## Schritt 2: Template klonen',
      '',
      '```bash',
      'git clone https://github.com/Marlin-hi/mika-template.git [BotName-klein]',
      'cd [BotName-klein]',
      '```',
      '',
      'Ersetze `[BotName-klein]` durch den Bot-Namen in Kleinbuchstaben.',
      '',
      '## Schritt 3: Placeholder ersetzen',
      '',
      'Ersetze in **allen Dateien** (au\u00dfer `.obsidian/plugins/mika-timestamps/main.js` und `README.md`):',
      '',
      '| Placeholder | Ersetzen durch |',
      '|---|---|',
      '| `[Nutzername]` | `' + name + '` |',
      '| `[BotName]` | Der gew\u00e4hlte Bot-Name |',
      '| `[BotName-klein]` | Bot-Name in Kleinbuchstaben |',
      '| `[vault-name]` | Bot-Name in Kleinbuchstaben |',
      '',
      'Zus\u00e4tzlich in allen Frontmatter-Bl\u00f6cken (zwischen `---`):',
      '- `YYYY-MM-DDTHH:MM` \u2192 aktuelles Datum und Uhrzeit',
      '',
      'Die `.gitignore` und `.gitattributes` haben keine Placeholder.',
      '',
      '## Schritt 4: Willkommens-Note erstellen',
      '',
      'Erstelle die Datei `Gedanken/Was ist [BotName].md` mit folgendem Inhalt:',
      '',
      '```markdown',
      '---',
      'created: [AKTUELLES DATUM]',
      'modified: [AKTUELLES DATUM]',
      'tags: [[BotName-klein], meta]',
      '---',
      '',
      '# Was ist [BotName]',
      '',
      '[BotName] ist dein pers\u00f6nlicher Wissensmanager. Hier steht, was das ist und was du damit machen kannst.',
      '',
      '## Kurz gesagt',
      '',
      '[BotName] besteht aus zwei Teilen:',
      '',
      '1. **Dieser Vault** \u2014 ein Ordner mit Markdown-Dateien, den du in Obsidian \u00f6ffnest. Hier landen deine Gedanken, Reflexionen, Projektnotizen \u2014 alles was dich besch\u00e4ftigt.',
      '',
      '2. **[BotName] selbst** \u2014 eine KI (Claude), die deinen Vault kennt. Du redest mit ihm \u00fcber Claude Code in VS-Code. Er hilft dir, Gedanken zu ordnen, erinnert dich an fr\u00fchere \u00dcberlegungen und schl\u00e4gt Verbindungen vor.',
      '',
      '## Was [BotName] kann',
      '',
      '- **Gedanken ordnen** \u2014 du erz\u00e4hlst [BotName] was dich besch\u00e4ftigt, er hilft dir das einzuordnen und im Vault festzuhalten',
      '- **Zusammenh\u00e4nge erkennen** \u2014 [BotName] kennt alles was du je aufgeschrieben hast und kann Verbindungen herstellen, die dir nicht auffallen',
      '- **Erinnern** \u2014 wenn du \u00fcber ein Thema sprichst, das du vor Wochen schon mal hattest, weist [BotName] dich darauf hin',
      '- **Reflektieren** \u2014 [BotName] kann dir zeigen, wie sich dein Denken \u00fcber die Zeit entwickelt hat',
      '- **Steckbrief pflegen** \u2014 [BotName] lernt dich kennen und h\u00e4lt fest, was er \u00fcber dich wei\u00df',
      '- **Vault aufr\u00e4umen** \u2014 ungetaggte Notes durchgehen, Verlinkungen aufbauen, Struktur pflegen',
      '',
      '## Wie du mit [BotName] arbeitest',
      '',
      '1. **Schreiben**: \u00d6ffne Obsidian und schreib einfach los \u2014 in Journal/ f\u00fcr t\u00e4gliche Gedanken, in Gedanken/ f\u00fcr einzelne Themen, in Projekte/ f\u00fcr Projekte',
      '2. **Reden**: \u00d6ffne Claude Code (in VS-Code) und schreib [BotName] was du willst. Er liest automatisch die CLAUDE.md und wei\u00df wie er mit deinem Vault arbeiten soll',
      '3. **Input Dump**: Wenn dir unterwegs was einf\u00e4llt, schreib es in `Input Dump.md` \u2014 [BotName] sortiert es sp\u00e4ter mit dir zusammen ein',
      '',
      '## Was [BotName] NICHT ist',
      '',
      '- Kein Google \u2014 frag ihn nicht nach Fakten die du nachschlagen kannst',
      '- Kein Aufgabenmanager \u2014 der Vault ist f\u00fcr Gedanken und Reflexionen, nicht f\u00fcr To-Do-Listen',
      '- Kein Chatbot f\u00fcr Smalltalk \u2014 [BotName] ist am besten wenn es um dein Denken geht',
      '',
      '## Erste Schritte',
      '',
      '1. **Steckbrief ausf\u00fcllen** \u2014 \u00f6ffne `Steckbrief.md` und erz\u00e4hl [BotName] wer du bist. Das ist die Grundlage f\u00fcr alles Weitere',
      '2. **Erstes Journal** \u2014 schreib abends auf, was dich heute besch\u00e4ftigt hat',
      '3. **Input Dump nutzen** \u2014 wenn dir zwischendurch was einf\u00e4llt, schreib es in `Input Dump.md`',
      '',
      '## Timestamps',
      '',
      'Das Plugin "Mika Timestamps" l\u00e4uft automatisch. Es setzt unsichtbare Zeitstempel wenn du Dateien \u00f6ffnest oder schreibst.',
      '',
      '## Git',
      '',
      'Dein Vault ist ein Git-Repository. [BotName] committed und pusht auf dein GitHub-Repo. Wenn du Obsidian auf dem Handy nutzen willst, kannst du das "Obsidian Git"-Plugin installieren \u2014 das synct automatisch.',
      '```',
      '',
      'Ersetze `[AKTUELLES DATUM]` durch den aktuellen Timestamp im Format `YYYY-MM-DDTHH:MM`.',
      '',
      '## Schritt 5: Remote-Verbindung zum Template entfernen',
      '',
      '```bash',
      'git remote remove origin',
      '```',
      '',
      '## Schritt 6: GitHub-Repo einrichten',
      '',
      '**\u26a0\ufe0f ' + name + ' muss hier mitmachen:**',
      '',
      '1. Pr\u00fcfe ob `gh` (GitHub CLI) installiert ist. Falls nicht: installiere es oder gib ' + name + ' den Link (https://cli.github.com/)',
      '2. `gh auth login` \u2014 ' + name + ' muss sich im Browser bei GitHub anmelden. Falls er keinen Account hat, muss er erst einen erstellen (https://github.com/signup)',
      '3. Dann:',
      '   ```bash',
      '   git add -A',
      '   git commit -m "[BotName] eingerichtet"',
      '   gh repo create [BotName-klein] --private --source=. --push',
      '   ```',
      '',
      '## Schritt 7: Obsidian einrichten',
      '',
      '**\u26a0\ufe0f ' + name + ' muss hier mitmachen:**',
      '',
      '1. Falls Obsidian noch nicht installiert ist: https://obsidian.md/ herunterladen und installieren',
      '2. Obsidian \u00f6ffnen \u2192 "Open folder as vault" \u2192 den `[BotName-klein]`-Ordner w\u00e4hlen',
      '3. Einstellungen \u2192 Community Plugins \u2192 "Restricted mode" deaktivieren \u2192 "Mika Timestamps" aktivieren',
      '4. Optional: Einstellungen \u2192 Templates \u2192 Template folder: `Vorlagen`',
      '',
      '## Schritt 8: CLAUDE.md als Projekt-Instruktion setzen',
      '',
      'Damit [BotName] in Zukunft automatisch die CLAUDE.md liest, wenn ' + name + ' Claude Code im Vault-Ordner \u00f6ffnet, muss der Vault als Arbeitsverzeichnis genutzt werden. [BotName] liest dann automatisch die CLAUDE.md.',
      '',
      'Sag ' + name + ': **"Wenn du mit [BotName] reden willst, \u00f6ffne den [BotName-klein]-Ordner in VS-Code und starte Claude Code dort."**',
      '',
      '## Schritt 9: Erster Start',
      '',
      'Sag ' + name + ' er soll jetzt `Steckbrief.md` \u00f6ffnen und anfangen sich vorzustellen. Das ist der beste Einstieg \u2014 danach kennt [BotName] ihn und kann richtig loslegen.',
      '',
      '---',
      '',
      '## Zusammenfassung',
      '',
      'Wenn alles eingerichtet ist, sag ' + name + ':',
      '',
      '> Du hast jetzt [BotName] \u2014 deinen pers\u00f6nlichen Wissensmanager. Er besteht aus einem Obsidian-Vault (dein Notizbuch) und einer KI ([BotName]), die den Vault kennt und dir beim Denken hilft.',
      '>',
      '> **So nutzt du [BotName]:**',
      '> - In Obsidian schreibst du Gedanken, Journal-Eintr\u00e4ge, Projektnotizen',
      '> - In Claude Code (VS-Code, im [BotName-klein]-Ordner) redest du mit [BotName]',
      '> - [BotName] hilft dir sortieren, erinnert dich an fr\u00fchere Gedanken und baut Verbindungen auf',
      '>',
      '> **Fang an mit:** Steckbrief.md \u00f6ffnen und dich vorstellen.',
      '>',
      '> Lies auch die Willkommens-Note in Gedanken/ f\u00fcr mehr Details.',
    ].join('\n');
  }

  // Initial reveal
  updateProgress();
  revealLines(document.querySelector('.step.active'));
</script>

</body>
</html>